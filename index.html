<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>Agora SDK Pricing Calculator</title>
        <link
            href="https://fonts.googleapis.com/css?family=Roboto:400,500&display=swap"
            rel="stylesheet"
        />
        <link rel="stylesheet" href="style.css" />
    </head>
    <body>
        <div class="calculator-container">
            <h2>Agora SDK Pricing Calculator</h2>
            <div class="form-group">
                <button class="add-host-btn" onclick="addHost()">
                    Add Host
                </button>
                <div class="hosts-container" id="hosts-container"></div>
            </div>
            <div class="form-group" style="display: flex; align-items: center; gap: 10px;">
                <label for="audience" style="flex: 1;">Number of Audience Members:</label>
                <input
                    type="number"
                    id="audience"
                    placeholder="Enter number of audience members"
                    min="0"
                    class="text-input"
                    style="flex: 1;"
                />
                <input type="checkbox" id="bs-audience" style="margin-left: 10px;" />
                <label for="bs-audience" style="margin: 0; font-size: 13px;">Broadcast Streaming</label>
            </div>
            <div class="form-group">
                <label for="duration">Duration (in minutes):</label>
                <input
                    type="number"
                    id="duration"
                    placeholder="Enter duration in minutes"
                    min="1"
                    class="text-input"
                />
            </div>

            <!-- Participant Screen Share Checkbox with Resolution -->
            <div class="form-group checkbox-container">
                <input
                    type="checkbox"
                    id="screenshare"
                    onchange="toggleParticipantResolution()"
                />
                <label for="screenshare">Enable Screenshare</label>
                <select id="participant-resolution" style="display: none">
                    <option value="120p">120p</option>
                    <option value="360p">360p</option>
                    <option value="480p">480p</option>
                    <option value="540p">540p</option>
                    <option value="720p">720p</option>
                    <option value="1080p">1080p</option>
                    <option value="4k">4K</option>
                </select>
            </div>

            <!-- AINS Checkbox -->
            <div class="form-group checkbox-container">
                <input type="checkbox" id="ains" />
                <label for="ains">Enable AINS (Additional Cost)</label>
            </div>

            <!-- Cloud Recording Checkbox -->
            <div class="form-group checkbox-container">
                <input type="checkbox" id="cloudrecording" />
                <label for="cloudrecording">Enable Cloud Recording</label>
            </div>

            <!-- Web Page Recording Checkbox with Resolution -->
            <div class="form-group checkbox-container">
                <input
                    type="checkbox"
                    id="webrecording"
                    onchange="toggleWebResolution()"
                />
                <label for="webrecording">Enable Web Page Recording</label>
                <select id="web-resolution" style="display: none">
                    <option value="720p">720p</option>
                    <option value="1080p">1080p</option>
                </select>
            </div>

            <!-- Discount Fields -->
            <div class="form-group" style="display: flex; gap: 15px;">
                <div style="flex: 1;">
                    <label for="rtc-discount">RTC/AINS Discount (%):</label>
                <input
                        type="number"
                        id="rtc-discount"
                        placeholder="RTC/AINS %"
                        min="0"
                        max="100"
                        class="text-input"
                    />
            </div>
                <div style="flex: 1;">
                    <label for="recording-discount">Recording Discount (%):</label>
                <input
                    type="number"
                        id="recording-discount"
                        placeholder="Recording %"
                    min="0"
                    max="100"
                    class="text-input"
                />
                </div>
            </div>

            <button class="button" onclick="calculatePricing()">
                Calculate
            </button>
            <div style="display: flex; gap: 10px;">
                <button class="button" onclick="showDetails()" style="background: #48bb78; font-size: 16px; flex: 1;">
                    Show Cost Details
                </button>
                <button class="button" onclick="showAudienceBreakdown()" style="background: #48bb78; font-size: 16px; flex: 1;">
                    Show Tier Breakdown
                </button>
            </div>
            <div class="result" id="result"></div>

            <p
                style="
                    margin-top: 20px;
                    text-align: center;
                    color: #555;
                    font-size: 14px;
                "
            >
                Disclaimer: This is not an official calculator and may provide
                incorrect estimates. This will overestimate the host cost.
            </p>
        </div>

        <!-- Details Popup -->
        <div id="detailsPopup" class="popup-overlay" style="display: none;">
            <div class="popup-content">
                <div class="popup-header">
                    <h3>Detailed Cost Breakdown</h3>
                    <button class="close-btn" onclick="closeDetails()">&times;</button>
                </div>
                <div id="detailsContent" class="popup-body">
                    <!-- Content will be populated by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Audience Breakdown Popup -->
        <div id="audiencePopup" class="popup-overlay" style="display: none;">
            <div class="popup-content">
                <div class="popup-header">
                    <h3>Audience Tier Breakdown</h3>
                    <button class="close-btn" onclick="closeAudienceBreakdown()">&times;</button>
                </div>
                <div id="audienceContent" class="popup-body">
                    <!-- Content will be populated by JavaScript -->
                </div>
            </div>
        </div>

        <script src="script.js"></script>
    </body>
</html>
